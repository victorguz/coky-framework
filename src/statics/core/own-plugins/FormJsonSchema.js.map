{"version":3,"sources":["src/BaseAttributeSchema.ts","src/BaseFieldCheckboxSchema.ts","src/BaseFieldRadioSchema.ts","src/BaseFieldSchema.ts","src/BaseFormSchema.ts","src/BaseSelectOptionsSchema.ts","src/FormJsonSchema.ts"],"names":[],"mappings":"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","file":"FormJsonSchema.js","sourcesContent":["class BaseAttributeSchema {\r\n\tname: string\r\n\tvalue: string\r\n\tconstructor(options: { name: string, value?: string }) {\r\n\t\toptions = this.validateOptions(options)\r\n\t\tthis.name = options.name\r\n\t\tthis.value = options.value\r\n\t}\r\n\r\n\t/**\r\n\t * @method validateOptions\r\n\t * @description Valida las opciones\r\n\t * @param options Opciones a validar\r\n\t * @returns {object} Las opciones con valores por defecto en caso de necesitarlos\r\n\t */\r\n\tprivate validateOptions(options) {\r\n\t\tif (options === undefined || typeof options != 'object') {\r\n\t\t\tthrow new TypeError(`Se esperaba que options fuera tipo object`)\r\n\t\t}\r\n\r\n\t\toptions.value = options.value == undefined ? '' : options.value\r\n\r\n\t\tif (options.name === undefined || typeof options.name != 'string') {\r\n\t\t\tthrow new TypeError(`Se esperaba que name fuera tipo string`)\r\n\t\t}\r\n\t\tif (typeof options.value != 'string') {\r\n\t\t\tthrow new TypeError(`Se esperaba que value fuera tipo string`)\r\n\t\t}\r\n\r\n\t\toptions.name = options.name.trim()\r\n\t\toptions.value = options.value.trim()\r\n\r\n\t\treturn options\r\n\t}\r\n\tstatic isAttribute(attr): attr is BaseAttributeSchema {\r\n\t\tif (attr.name !== undefined && typeof attr.name == 'string') {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\tstatic isAttributeArray(array): array is Array<BaseAttributeSchema> {\r\n\t\tif (Array.isArray(array)) {\r\n\t\t\tfor (let i of array) {\r\n\t\t\t\tif (!this.isAttribute(i)) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\tstatic attrsValidate(attrs: BaseAttributeSchema | Array<BaseAttributeSchema>) {\r\n\t\tif (!this.isAttribute(attrs) && !this.isAttributeArray(attrs)) {\r\n\t\t\treturn false\r\n\t\t} else {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n}\r\n","class BaseFieldCheckboxSchema {\r\n\r\n\toptions: BaseFieldSchema[]\r\n\tname: string\r\n\tlabel: string\r\n\trequired: boolean\r\n\tprivate _elements: Element[]\r\n\r\n\tconstructor(\r\n\t\tname: string,\r\n\t\toptions: Array<{ value: string, display?: string }> | { value: string, display?: string },\r\n\t\tlabel: string = '',\r\n\t\trequired: boolean = false\r\n\t) {\r\n\t\tif (name === undefined) throw new Error('Falta el argumento name')\r\n\t\tif (typeof name != 'string') throw new TypeError('El argumento name debe ser tipo string')\r\n\t\tthis.name = name\r\n\r\n\t\toptions = this.clearOptions(options)\r\n\r\n\t\tthis.options = []\r\n\r\n\t\tfor (let option of options) {\r\n\t\t\tlet _option = new BaseFieldSchema({\r\n\t\t\t\tname: this.name,\r\n\t\t\t\tlabel: option.display,\r\n\t\t\t\tvalue: option.value,\r\n\t\t\t\ttype: '_checkbox'\r\n\t\t\t})\r\n\t\t\tthis.options.push(_option)\r\n\t\t}\r\n\r\n\t\tif (label != undefined && typeof label != 'string') throw new TypeError('El argumento label debe ser tipo string')\r\n\t\tthis.label = label\r\n\r\n\t\tif (required != undefined && typeof required != 'boolean') throw new TypeError('El argumento label debe ser tipo boolean')\r\n\t\tthis.required = required\r\n\t}\r\n\r\n\tget elements(): Element[] {\r\n\t\tthis.configElements()\r\n\t\treturn this._elements\r\n\t}\r\n\r\n\tclearOptions(\r\n\t\toptions: Array<{\r\n\t\t\tvalue: string,\r\n\t\t\tdisplay?: string\r\n\t\t}> | {\r\n\t\t\tvalue: string,\r\n\t\t\tdisplay?: string\r\n\t\t}\r\n\t): Array<{\r\n\t\tvalue: string,\r\n\t\tdisplay?: string\r\n\t}> {\r\n\t\toptions = Array.isArray(options) ? options : [options]\r\n\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\tlet option = options[i]\r\n\t\t\tif (option.value === undefined) throw new TypeError('Se esperaba que option tuviera la propiedad value')\r\n\t\t\tif (typeof option.value != 'string') throw new TypeError('La propiedad value de option debe ser tipo string')\r\n\t\t\tif (option.display != undefined && typeof option.display != 'string') throw new TypeError('La propiedad display de option debe ser tipo string')\r\n\t\t\tif (option.display == undefined || option.display.length < 1) {\r\n\t\t\t\toptions[i].display = option.value\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn options\r\n\t}\r\n\r\n\tprivate configElements() {\r\n\r\n\t\tlet options = this.options\r\n\t\tlet _options = []\r\n\t\tlet wrapperClasses = ['field']\r\n\r\n\t\tif(this.required){\r\n\t\t\t//wrapperClasses.push('required')\r\n\t\t}\r\n\t\t\r\n\t\tfor (let option of options) {\r\n\r\n\t\t\tlet wrapper = document.createElement('div')\r\n\t\t\tlet inputWrapper = document.createElement('div')\r\n\r\n\t\t\tinputWrapper.setAttribute('class', 'ui toggle checkbox')\r\n\t\t\tinputWrapper.appendChild(option.element)\r\n\r\n\t\t\tif (option.label.length > 0) {\r\n\t\t\t\tlet label = document.createElement('label')\r\n\t\t\t\tlabel.innerHTML = option.label\r\n\t\t\t\tinputWrapper.appendChild(label)\r\n\t\t\t}\r\n\r\n\t\t\twrapper.appendChild(inputWrapper)\t\t\r\n\r\n\t\t\twrapper.setAttribute('class',wrapperClasses.join(' '))\r\n\r\n\t\t\t_options.push(wrapper)\r\n\t\t}\r\n\t\tthis._elements = _options\r\n\t}\r\n}","class BaseFieldRadioSchema {\r\n\r\n\toptions: BaseFieldSchema[]\r\n\tname: string\r\n\tlabel: string\r\n\trequired: boolean\r\n\tprivate _elements: Element[]\r\n\r\n\tconstructor(\r\n\t\tname: string,\r\n\t\toptions: Array<{ value: string, display?: string }> | { value: string, display?: string },\r\n\t\tlabel: string = '',\r\n\t\trequired: boolean = false\r\n\t) {\r\n\t\tif (name === undefined) throw new Error('Falta el argumento name')\r\n\t\tif (typeof name != 'string') throw new TypeError('El argumento name debe ser tipo string')\r\n\t\tthis.name = name\r\n\r\n\t\toptions = this.clearOptions(options)\r\n\r\n\t\tthis.options = []\r\n\r\n\t\tfor (let option of options) {\r\n\t\t\tlet _option = new BaseFieldSchema({\r\n\t\t\t\tname: this.name,\r\n\t\t\t\tlabel: option.display,\r\n\t\t\t\tvalue: option.value,\r\n\t\t\t\ttype: '_radio'\r\n\t\t\t})\r\n\t\t\tthis.options.push(_option)\r\n\t\t}\r\n\r\n\t\tif (label != undefined && typeof label != 'string') throw new TypeError('El argumento label debe ser tipo string')\r\n\t\tthis.label = label\r\n\r\n\t\tif (required != undefined && typeof required != 'boolean') throw new TypeError('El argumento label debe ser tipo boolean')\r\n\t\tthis.required = required\r\n\t}\r\n\r\n\tget elements(): Element[] {\r\n\t\tthis.configElements()\r\n\t\treturn this._elements\r\n\t}\r\n\r\n\tclearOptions(\r\n\t\toptions: Array<{\r\n\t\t\tvalue: string,\r\n\t\t\tdisplay?: string\r\n\t\t}> | {\r\n\t\t\tvalue: string,\r\n\t\t\tdisplay?: string\r\n\t\t}\r\n\t): Array<{\r\n\t\tvalue: string,\r\n\t\tdisplay?: string\r\n\t}> {\r\n\t\toptions = Array.isArray(options) ? options : [options]\r\n\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\tlet option = options[i]\r\n\t\t\tif (option.value === undefined) throw new TypeError('Se esperaba que option tuviera la propiedad value')\r\n\t\t\tif (typeof option.value != 'string') throw new TypeError('La propiedad value de option debe ser tipo string')\r\n\t\t\tif (option.display != undefined && typeof option.display != 'string') throw new TypeError('La propiedad display de option debe ser tipo string')\r\n\t\t\tif (option.display == undefined || option.display.length < 1) {\r\n\t\t\t\toptions[i].display = option.value\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn options\r\n\t}\r\n\r\n\tprivate configElements() {\r\n\r\n\t\tlet options = this.options\r\n\t\tlet _options = []\r\n\t\tlet wrapperClasses = ['field']\r\n\r\n\t\tif(this.required){\r\n\t\t\t//wrapperClasses.push('required')\r\n\t\t}\r\n\t\t\r\n\t\tfor (let option of options) {\r\n\r\n\t\t\tlet wrapper = document.createElement('div')\r\n\t\t\tlet inputWrapper = document.createElement('div')\r\n\r\n\t\t\tinputWrapper.setAttribute('class', 'ui slider checkbox')\r\n\t\t\tinputWrapper.appendChild(option.element)\r\n\r\n\t\t\tif (option.label.length > 0) {\r\n\t\t\t\tlet label = document.createElement('label')\r\n\t\t\t\tlabel.innerHTML = option.label\r\n\t\t\t\tinputWrapper.appendChild(label)\r\n\t\t\t}\r\n\r\n\t\t\twrapper.appendChild(inputWrapper)\t\t\r\n\r\n\t\t\twrapper.setAttribute('class',wrapperClasses.join(' '))\r\n\r\n\t\t\t_options.push(wrapper)\r\n\t\t}\r\n\t\tthis._elements = _options\r\n\t}\r\n}","/**\r\n * @class BaseFieldSchema\r\n * @description Esquema de un campo de formulario\r\n */\r\nclass BaseFieldSchema {\r\n\tid: string\r\n\tname: string\r\n\tvalue: boolean | number | string\r\n\ttype: string\r\n\tlabel: string\r\n\trequired: boolean\r\n\tattributes: BaseAttributeSchema[]\r\n\tprivate _element: Element\r\n\tprotected choices: any[]\r\n\tprotected tag: { tag: string, type?: string }\r\n\tstatic types = {\r\n\t\t'submit': {\r\n\t\t\t'tag': 'button',\r\n\t\t\t'type': 'submit',\r\n\t\t},\r\n\t\t'text': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'text',\r\n\t\t},\r\n\t\t'number': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'number',\r\n\t\t},\r\n\t\t'tel': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'tel',\r\n\t\t},\r\n\t\t'email': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'email',\r\n\t\t},\r\n\t\t'date': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'date',\r\n\t\t},\r\n\t\t'datetime': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'datetime',\r\n\t\t},\r\n\t\t'url': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'url',\r\n\t\t},\r\n\t\t'hidden': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'hidden',\r\n\t\t},\r\n\t\t'checkbox': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'checkbox',\r\n\t\t},\r\n\t\t'radio': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'radio',\r\n\t\t},\r\n\t\t'_checkbox': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'checkbox',\r\n\t\t},\r\n\t\t'_radio': {\r\n\t\t\t'tag': 'input',\r\n\t\t\t'type': 'radio',\r\n\t\t},\r\n\t\t'textarea': {\r\n\t\t\t'tag': 'textarea',\r\n\t\t},\r\n\t\t'option': {\r\n\t\t\t'tag': 'option',\r\n\t\t},\r\n\t\t'select': {\r\n\t\t\t'tag': 'select',\r\n\t\t},\r\n\t\t'choice-radio': {\r\n\t\t\t'tag': 'div',\r\n\t\t},\r\n\t\t'choice-checkbox': {\r\n\t\t\t'tag': 'div',\r\n\t\t},\r\n\t}\r\n\r\n\t/**\r\n\t * @method constructor\r\n\t * @description Constructor\r\n\t * @param {Object} options\r\n\t * @return {ThisType}\r\n\t */\r\n\tconstructor(\r\n\t\toptions:\r\n\t\t\t{\r\n\t\t\t\tname: string,\r\n\t\t\t\tvalue?: boolean | number | string,\r\n\t\t\t\tlabel?: string,\r\n\t\t\t\ttype?: string,\r\n\t\t\t\trequired?: boolean,\r\n\t\t\t\tattributes?: BaseAttributeSchema | BaseAttributeSchema[]\r\n\t\t\t}\r\n\t) {\r\n\r\n\t\tlet validOptions = this.validateOptions(options)\r\n\r\n\t\tthis.name = validOptions.name\r\n\t\tthis.value = validOptions.value\r\n\t\tthis.label = validOptions.label\r\n\t\tthis.type = validOptions.type\r\n\t\tthis.required = validOptions.required\r\n\t\tthis.attributes = this.validateOptionAttribute(options.attributes, validOptions.required, validOptions.name)\r\n\t\tthis.choices = []\r\n\t\tthis.id = this.name + '_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now()\r\n\t\tthis._element = null\r\n\t}\r\n\r\n\tget element(): Element {\r\n\t\tif (this._element === null) this.configElement()\r\n\t\treturn this._element\r\n\t}\r\n\tsetChoices(choices) {\r\n\t\tthis.choices = choices\r\n\t}\r\n\tprivate configElement() {\r\n\r\n\t\tlet field = <Element>document.getElementById(`${this.id}`)\r\n\r\n\t\tif (field === null) {\r\n\r\n\t\t\tfield = document.createElement(this.tag.tag)\r\n\r\n\t\t\tfield.setAttribute('id', this.id)\r\n\r\n\t\t\tlet attrs = this.attributes\r\n\t\t\tfor (let attr of attrs) {\r\n\t\t\t\tfield.setAttribute(attr.name, attr.value)\r\n\t\t\t}\r\n\r\n\t\t\tif (this.type == 'select') {\r\n\t\t\t\tlet select = this.selectOptions()\r\n\t\t\t\tlet childs = select.elements\r\n\t\t\t\tlet hasSelected = false\r\n\t\t\t\tfor (let child of childs) {\r\n\t\t\t\t\tlet _child = <HTMLOptionElement>child\r\n\t\t\t\t\tlet value: string | string[] | number | number[] | boolean | boolean[]\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (typeof this.value == 'string') {\r\n\t\t\t\t\t\t\tvalue = JSON.parse(this.value)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = this.value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tvalue = this.value\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!hasSelected || field.hasAttribute('multiple')) {\r\n\t\t\t\t\t\tif (!Array.isArray(value)) {\r\n\r\n\t\t\t\t\t\t\tif (_child.value == value && _child.value.toString().trim().length > 0) {\r\n\t\t\t\t\t\t\t\t_child.setAttribute('selected', '')\r\n\t\t\t\t\t\t\t\thasSelected = true\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tlet selecting = (function (pajar, aguja) {\r\n\t\t\t\t\t\t\t\tfor (let paja of pajar) {\r\n\t\t\t\t\t\t\t\t\tif (paja == aguja && aguja.toString().length > 0) {\r\n\t\t\t\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t})(value, _child.value)\r\n\r\n\t\t\t\t\t\t\tif (selecting) {\r\n\t\t\t\t\t\t\t\t_child.setAttribute('selected', '')\r\n\t\t\t\t\t\t\t\thasSelected = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfield.appendChild(_child)\r\n\t\t\t\t}\r\n\t\t\t} else if (this.type == 'choice-radio') {\r\n\t\t\t\tlet choices = this.radio()\r\n\t\t\t\tlet childs = choices.elements\r\n\t\t\t\tlet hasSelected = false\r\n\r\n\t\t\t\tfor (let child of childs) {\r\n\t\t\t\t\tlet _child = <HTMLInputElement>child.querySelector('input')\r\n\t\t\t\t\tlet value: string | string[] | number | number[] | boolean | boolean[]\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (typeof this.value == 'string') {\r\n\t\t\t\t\t\t\tvalue = JSON.parse(this.value)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = this.value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tvalue = this.value\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!Array.isArray(value)) {\r\n\t\t\t\t\t\tif (_child.value == value && _child.value.toString().trim().length > 0) {\r\n\t\t\t\t\t\t\t_child.setAttribute('checked', '')\r\n\t\t\t\t\t\t\thasSelected = true\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfield.appendChild(child)\r\n\t\t\t\t}\r\n\t\t\t} else if (this.type == 'choice-checkbox') {\r\n\t\t\t\tlet choices = this.checkbox()\r\n\t\t\t\tlet childs = choices.elements\r\n\t\t\t\tlet hasSelected = false\r\n\r\n\t\t\t\tfor (let child of childs) {\r\n\t\t\t\t\tlet _child = <HTMLInputElement>child.querySelector('input')\r\n\t\t\t\t\tlet value: string | string[] | number | number[] | boolean | boolean[]\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (typeof this.value == 'string') {\r\n\t\t\t\t\t\t\tvalue = JSON.parse(this.value)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = this.value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tvalue = this.value\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!Array.isArray(value)) {\r\n\r\n\t\t\t\t\t\tif (_child.value == value && _child.value.toString().trim().length > 0) {\r\n\t\t\t\t\t\t\t_child.setAttribute('checked', '')\r\n\t\t\t\t\t\t\thasSelected = true\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tlet selecting = (function (pajar, aguja) {\r\n\t\t\t\t\t\t\tfor (let paja of pajar) {\r\n\t\t\t\t\t\t\t\tif (paja == aguja && aguja.toString().length > 0) {\r\n\t\t\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t})(value, _child.value)\r\n\r\n\t\t\t\t\t\tif (selecting) {\r\n\t\t\t\t\t\t\t_child.setAttribute('checked', '')\r\n\t\t\t\t\t\t\thasSelected = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfield.appendChild(child)\r\n\t\t\t\t}\r\n\t\t\t} else if (this.type == 'textarea') {\r\n\t\t\t\tfield.innerHTML = this.value.toString().trim()\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (this.tag.type !== undefined) {\r\n\t\t\t\tfield.setAttribute('type', this.tag.type)\r\n\t\t\t}\r\n\r\n\t\t\tif (this.type == 'submit') {\r\n\t\t\t\tfield.innerHTML = this.label\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlet notSetName = ['option', 'choice-radio', 'choice-checkbox']\r\n\t\t\t\tlet notSetValue = ['select','textarea']\r\n\r\n\t\t\t\tif (notSetValue.indexOf(this.type) == -1) {\r\n\t\t\t\t\tfield.setAttribute('value', this.value.toString())\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (notSetName.indexOf(this.type) == -1) {\r\n\t\t\t\t\tfield.setAttribute('name', this.name)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.type == 'option') {\r\n\t\t\t\t\tfield.innerHTML = this.label\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._element = field\r\n\t}\r\n\r\n\tprivate radio() {\r\n\t\treturn new BaseFieldRadioSchema(this.name, this.getChoices(), this.label, this.required)\r\n\t}\r\n\tprivate checkbox() {\r\n\t\treturn new BaseFieldCheckboxSchema(this.name, this.getChoices(), this.label, this.required)\r\n\t}\r\n\tprivate selectOptions() {\r\n\t\treturn new BaseSelectOptionsSchema(this.name, this.getChoices(), this.label, this.required)\r\n\t}\r\n\r\n\tprivate getChoices(): Array<{ value: string, display?: string }> {\r\n\t\treturn this.choices\r\n\t}\r\n\r\n\t/**\r\n\t * @method validateOptions\r\n\t * @description Valida las opciones\r\n\t * @param options Opciones a validar\r\n\t * @returns {object} Las opciones con valores por defecto en caso de necesitarlos\r\n\t */\r\n\tprivate validateOptions(options): {\r\n\t\tname: string,\r\n\t\tvalue: string | number | boolean,\r\n\t\tlabel: string,\r\n\t\ttype: string,\r\n\t\trequired: boolean\r\n\t} {\r\n\t\tif (options === undefined || typeof options != 'object') {\r\n\t\t\tthrow new TypeError(`Se esperaba que options fuera tipo object`)\r\n\t\t}\r\n\r\n\t\toptions.value = options.value == undefined ? '' : options.value\r\n\t\toptions.label = options.label == undefined ? '' : options.label\r\n\t\toptions.type = options.type == undefined ? 'text' : options.type\r\n\t\toptions.required = options.required == undefined ? false : options.required\r\n\r\n\t\tif (options.name === undefined || typeof options.name != 'string') {\r\n\t\t\tthrow new TypeError(`Se esperaba que name fuera tipo string`)\r\n\t\t}\r\n\r\n\t\tif (Array.isArray(options.value)) {\r\n\t\t\toptions.value = JSON.stringify(options.value)\r\n\t\t}\r\n\t\tif (!BaseFieldSchema.isScalar(options.value)) {\r\n\t\t\tthrow new TypeError(`Se esperaba que value fuera tipo scalar`)\r\n\t\t}\r\n\t\tif (typeof options.label != 'string') {\r\n\t\t\tthrow new TypeError(`Se esperaba que label fuera tipo string`)\r\n\t\t}\r\n\t\tif (typeof options.type != 'string') {\r\n\t\t\tthrow new TypeError(`Se esperaba que type fuera tipo string`)\r\n\t\t}\r\n\t\tif (!BaseFieldSchema.types.hasOwnProperty(options.type)) {\r\n\t\t\tthrow new TypeError(`El tipo de campo '${options.type}' no está implementado`)\r\n\t\t}\r\n\t\tif (typeof options.required != 'boolean') {\r\n\t\t\tthrow new TypeError(`Se esperaba que required fuera tipo boolean`)\r\n\t\t}\r\n\r\n\t\tthis.tag = BaseFieldSchema.types[options.type]\r\n\r\n\t\treturn options\r\n\t}\r\n\r\n\tprivate validateOptionAttribute(attributes, isRequired, fieldName): any[] {\r\n\r\n\t\tattributes = attributes == undefined ? [] : attributes\r\n\r\n\t\tif (!BaseAttributeSchema.attrsValidate(attributes)) {\r\n\t\t\tthrow new TypeError(`Se esperaba que attributes fuera tipo BaseAttributeSchema o BaseAttributeSchema[]`)\r\n\t\t}\r\n\r\n\t\tlet attrs = []\r\n\t\tlet hasRequired = false\r\n\t\tlet hasClasses = false\r\n\t\tlet selectClasses = [\r\n\t\t\t'ui',\r\n\t\t\t'dropdown',\r\n\t\t\t'search',\r\n\t\t]\r\n\r\n\t\tattributes = (Array.isArray(attributes) ? attributes : [attributes])\r\n\r\n\t\tfor (let attr of attributes) {\r\n\t\t\tif (attr.name == 'class') {\r\n\t\t\t\thasClasses = true\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (attributes.length == 0 || !hasClasses) {\r\n\t\t\tswitch (this.type) {\r\n\t\t\t\tcase 'choice-radio':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'choice-checkbox':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'select':\r\n\t\t\t\t\tif (!hasClasses) {\r\n\t\t\t\t\t\tattributes.push(new BaseAttributeSchema({ name: 'class', value: selectClasses.join(' ') }))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (let attr of attributes) {\r\n\r\n\t\t\tlet name = attr.name.trim()\r\n\t\t\tlet value = attr.value\r\n\r\n\t\t\tswitch (this.type) {\r\n\t\t\t\tcase 'choice-radio':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'choice-checkbox':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'select':\r\n\t\t\t\t\tif (name == 'class') {\r\n\t\t\t\t\t\tvalue = value.trim().split(' ')\r\n\t\t\t\t\t\tfor (let c of value) {\r\n\t\t\t\t\t\t\tif (selectClasses.indexOf(c) == -1) {\r\n\t\t\t\t\t\t\t\tselectClasses.push(c)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalue = selectClasses.join(' ')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (name == 'type') {\r\n\r\n\t\t\t\tif (this.tag.type !== undefined) {\r\n\t\t\t\t\tvalue = this.tag.type\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (name == 'name') {\r\n\r\n\t\t\t\tvalue = fieldName\r\n\r\n\t\t\t} else if (name == 'required') {\r\n\t\t\t\thasRequired = true\r\n\t\t\t\tif (isRequired) {\r\n\t\t\t\t\tvalue = ''\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontinue\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (name == 'id') {\r\n\t\t\t\tvalue = this.id\r\n\t\t\t}\r\n\r\n\t\t\tlet _attr = {\r\n\t\t\t\tname: name,\r\n\t\t\t\tvalue: value == undefined ? '' : value.trim(),\r\n\t\t\t}\r\n\r\n\t\t\tattrs.push(new BaseAttributeSchema(_attr))\r\n\t\t}\r\n\r\n\t\tif (!hasRequired) {\r\n\t\t\tif (isRequired) {\r\n\t\t\t\tattrs.push(new BaseAttributeSchema({ name: 'required' }))\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn attrs\r\n\t}\r\n\r\n\tstatic isField(field): field is BaseFieldSchema {\r\n\t\tif (field.name !== undefined) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\tstatic isFieldArray(array): array is Array<BaseAttributeSchema> {\r\n\t\tif (Array.isArray(array)) {\r\n\t\t\tfor (let i of array) {\r\n\t\t\t\tif (!this.isField(i)) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\tstatic fieldsValidate(fields: BaseFieldSchema | Array<BaseFieldSchema>) {\r\n\t\tif (!this.isField(fields) && !this.isFieldArray(fields)) {\r\n\t\t\treturn false\r\n\t\t} else {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @method isScalar\r\n\t * @description Valida que el valor sea escalar\r\n\t * @param {any} value \r\n\t * @returns {boolean}\r\n\t */\r\n\tstatic isScalar(value) {\r\n\t\treturn /boolean|number|string/.test(typeof value);\r\n\t}\r\n}\r\n\r\n","class BaseFormSchema {\r\n\tstatic debug = false\r\n\tprivate _form: HTMLFormElement\r\n\tprivate validations: object\r\n\tprivate rules: object\r\n\tprivate fieldsConfigurations: object\r\n\tprivate fieldsValueOnEmpty: object\r\n\tprivate fieldsDuplicables: object\r\n\tprivate fieldsDuplicablesValues: object\r\n\tprivate fieldsDuplicablesClones: object\r\n\tprivate fieldsRemovibles: object\r\n\tprivate dependFields: object\r\n\tfields: BaseFieldSchema[]\r\n\tattributes: BaseAttributeSchema[]\r\n\r\n\tconstructor(options: { fields, attributes: BaseAttributeSchema | BaseAttributeSchema[] }) {\r\n\t\tthis.validations = {}\r\n\t\tthis.fieldsConfigurations = {}\r\n\t\tthis.fieldsValueOnEmpty = {}\r\n\t\tthis.fieldsDuplicables = {}\r\n\t\tthis.fieldsDuplicablesValues = {}\r\n\t\tthis.fieldsDuplicablesClones = {}\r\n\t\tthis.fieldsRemovibles = {}\r\n\t\tthis.dependFields = {}\r\n\t\tthis.rules = {}\r\n\t\tthis.validateOptions(options)\r\n\t\tthis._form = <HTMLFormElement><any>$(this.element())\r\n\r\n\t\tfor (let field of this.fields) {\r\n\t\t\tlet type = field.type\r\n\t\t\tlet name = field.name\r\n\r\n\t\t\tlet config: any = {}\r\n\t\t\tif (this.fieldsConfigurations[name] !== undefined) {\r\n\t\t\t\tconfig = this.fieldsConfigurations[name]\r\n\t\t\t}\r\n\r\n\t\t\tlet applyCheckbox = ['choice-radio', 'choice-checkbox']\r\n\t\t\tif (applyCheckbox.indexOf(type) != -1) {\r\n\t\t\t\tlet selector = `[name='${name}']`\r\n\t\t\t\tlet element = this._form.find(selector)\r\n\t\t\t\telement.parent().checkbox(config)\r\n\t\t\t}\r\n\r\n\t\t\tif (type == 'select') {\r\n\r\n\t\t\t\tif (config.message == undefined) {\r\n\t\t\t\t\tconfig.message = {\r\n\t\t\t\t\t\taddResult: 'Agregar <b>{term}</b>',\r\n\t\t\t\t\t\tcount: '{count} seleccionados',\r\n\t\t\t\t\t\tmaxSelections: 'La cantidad máxima de selecciones es {maxCount}',\r\n\t\t\t\t\t\tnoResults: 'No hay resultados.'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet selector = `[name='${name}']`\r\n\t\t\t\tlet element = this._form.find(selector)\r\n\t\t\t\tlet dropdownSet = false\r\n\t\t\t\tlet isMultiple = element.attr('multiple') !== undefined\r\n\t\t\t\tlet selectedOptions = element.find('option[selected]')\r\n\t\t\t\tlet countSelected = selectedOptions.length\r\n\t\t\t\tlet hasSelected = countSelected > 0\r\n\r\n\t\t\t\tif (isMultiple) {\r\n\t\t\t\t\tif (hasSelected) {\r\n\t\t\t\t\t\tif (countSelected == 1) {\r\n\t\t\t\t\t\t\t$(document).ready(function (e) {\r\n\t\t\t\t\t\t\t\telement.dropdown(config)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tdropdownSet = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!dropdownSet) {\r\n\t\t\t\t\telement.dropdown(config);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget form(): HTMLFormElement {\r\n\t\treturn this._form\r\n\t}\r\n\r\n\tinitValidations() {\r\n\t\tlet _fields = {}\r\n\t\tlet fields = this.fields\r\n\r\n\t\tlet form = this._form\r\n\r\n\t\tfor (let field of fields) {\r\n\r\n\t\t\tif (field.type == 'submit') continue;\r\n\r\n\t\t\tlet validations = this.validations[field.name]\r\n\r\n\t\t\tif (validations === undefined) continue\r\n\r\n\t\t\tlet rules = <any[]>validations.rules\r\n\t\t\tlet prompts = <any[]>validations.prompts\r\n\r\n\t\t\tlet _field: {\r\n\t\t\t\tidentifier: string,\r\n\t\t\t\trules: any[],\r\n\t\t\t} = {\r\n\t\t\t\tidentifier: '',\r\n\t\t\t\trules: []\r\n\t\t\t}\r\n\r\n\t\t\t_field.identifier = field.name\r\n\r\n\t\t\tfor (let i = 0; i < rules.length; i++) {\r\n\r\n\t\t\t\tlet rule = rules[i]\r\n\t\t\t\tlet prompt = prompts[i]\r\n\r\n\t\t\t\tlet _rule: {\r\n\t\t\t\t\ttype: string,\r\n\t\t\t\t\tprompt?: string\r\n\t\t\t\t} = {\r\n\t\t\t\t\ttype: '',\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof rule == 'function') {\r\n\r\n\t\t\t\t\tlet ruleName = '__function_rule_' + Date.now().toString()\r\n\r\n\t\t\t\t\t$.fn.form.settings.rules[ruleName] = (value) => {\r\n\t\t\t\t\t\tlet fieldElement = form.find(`[name='${field.name}']`)\r\n\t\t\t\t\t\treturn rule(value, fieldElement)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (prompt != null) {\r\n\t\t\t\t\t\t_rule.prompt = prompt\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_rule.type = ruleName\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_rule.type = rule\r\n\r\n\t\t\t\t\tif (prompt != null) {\r\n\t\t\t\t\t\t_rule.prompt = prompt\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t_field.rules.push(_rule)\r\n\t\t\t}\r\n\t\t\tthis.rules[field.name] = _field\r\n\t\t\t_fields[field.name] = _field\r\n\r\n\t\t\tlet clones = this.fieldsDuplicablesClones[field.name]\r\n\r\n\t\t\tfor (let clon of clones) {\r\n\t\t\t\tlet _cloneField = (<any>Object).assign({}, _field)\r\n\t\t\t\t_cloneField.identifier = clon.name\r\n\t\t\t\tthis.rules[clon.name] = _cloneField\r\n\t\t\t\t_fields[clon.name] = _cloneField\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet formConfig = {\r\n\t\t\tinline: true,\r\n\t\t\tonFailure: function (formErrors, fields) {\r\n\r\n\t\t\t\tlet firstError = form.find('.field.error:first')\r\n\r\n\t\t\t\ttry{\r\n\t\t\t\t\t$([document.documentElement, document.body]).animate({\r\n\t\t\t\t\t\tscrollTop: firstError.offset().top\r\n\t\t\t\t\t}, 500)\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tconsole.info(e)\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tfields: _fields\r\n\t\t}\r\n\r\n\t\tform.form(formConfig)\r\n\r\n\t\tlet dependFields = this.dependFields\r\n\t\tlet rules = this.rules\r\n\t\tform.change(function (e) {\r\n\t\t\tfor (let fieldName in dependFields) {\r\n\t\t\t\tlet _dependsField = dependFields[fieldName]\r\n\t\t\t\tif (_dependsField.length > 0) {\r\n\t\t\t\t\tlet _rules: { rules: any[] }\r\n\t\t\t\t\tif (rules[fieldName] != undefined) {\r\n\t\t\t\t\t\t/* for (let r of rules[fieldName].rules) {\r\n\t\t\t\t\t\t\t_rules.push(r.type)\r\n\t\t\t\t\t\t} */\r\n\t\t\t\t\t\t_rules = {\r\n\t\t\t\t\t\t\trules: rules[fieldName].rules\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet validate = true\r\n\r\n\t\t\t\t\tlet _field = <JQuery>form.find(`[name='${fieldName}']`)\r\n\r\n\t\t\t\t\tfor (let depend of _dependsField) {\r\n\t\t\t\t\t\tlet dependFieldName = depend.field\r\n\t\t\t\t\t\tlet dependFieldSelector = `[name='${dependFieldName}']`\r\n\t\t\t\t\t\tlet _dField = form.find(dependFieldSelector)\r\n\t\t\t\t\t\tlet isRadio = _dField.attr('type') == 'radio'\r\n\t\t\t\t\t\tlet isCheckbox = _dField.attr('type') == 'checkbox'\r\n\r\n\t\t\t\t\t\tif (isRadio) {\r\n\t\t\t\t\t\t\t_dField = form.find(`${dependFieldSelector}:checked`)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet controlValue = depend.value\r\n\t\t\t\t\t\tlet value = _dField.val()\r\n\r\n\t\t\t\t\t\tif (isCheckbox) {\r\n\t\t\t\t\t\t\tlet name = dependFieldName.replace('[]', '')\r\n\t\t\t\t\t\t\tvalue = form.form('get values')[name]\r\n\t\t\t\t\t\t\tvalue = Array.isArray(value) ? value.filter(v => v !== false) : value\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet isFunction = typeof controlValue == 'function'\r\n\r\n\t\t\t\t\t\tif (value == undefined) {\r\n\t\t\t\t\t\t\tvalidate = false\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!isFunction) {\r\n\r\n\t\t\t\t\t\t\tif (Array.isArray(value)) {\r\n\r\n\t\t\t\t\t\t\t\tif (value.indexOf(controlValue) == -1) {\r\n\t\t\t\t\t\t\t\t\tvalidate = false\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tif (value != controlValue) {\r\n\t\t\t\t\t\t\t\t\tvalidate = false\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tvalidate = controlValue(value)\r\n\r\n\t\t\t\t\t\t\tif (typeof validate != 'boolean') {\r\n\t\t\t\t\t\t\t\tconsole.error('La función de validación en dependFields no ha devuelto un valor booleano')\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!validate) {\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tform.form('remove fields', [fieldName])\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.warn(e)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (validate) {\r\n\r\n\t\t\t\t\t\tform.form('add rule', fieldName, _rules)\r\n\r\n\t\t\t\t\t\t_field.removeAttr('schema-ignore-value')\r\n\r\n\t\t\t\t\t\tlet container = _field.parents('.field')\r\n\r\n\t\t\t\t\t\tlet groupedContainer = container.parents('.grouped.fields')\r\n\r\n\t\t\t\t\t\tif (groupedContainer.length > 0) {\r\n\t\t\t\t\t\t\tcontainer = groupedContainer\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (container.hasClass('disabled')) {\r\n\t\t\t\t\t\t\tcontainer.removeClass('disabled')\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t_field.attr('schema-ignore-value', '')\r\n\r\n\t\t\t\t\t\tlet container = _field.parents('.field')\r\n\r\n\t\t\t\t\t\tlet groupedContainer = container.parents('.grouped.fields')\r\n\r\n\t\t\t\t\t\tif (groupedContainer.length > 0) {\r\n\t\t\t\t\t\t\tcontainer = groupedContainer\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!container.hasClass('disabled')) {\r\n\t\t\t\t\t\t\tcontainer.addClass('disabled')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (container.hasClass('error')) {\r\n\t\t\t\t\t\t\tcontainer.removeClass('error')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontainer.find('.ui.prompt').remove()\r\n\r\n\t\t\t\t\t\tif (_field.attr('type') == 'radio' || _field.attr('type') == 'checkbox') {\r\n\r\n\t\t\t\t\t\t\t_field.parent().checkbox('uncheck')\r\n\r\n\t\t\t\t\t\t} else if (_field.parent().hasClass('dropdown')) {\r\n\r\n\t\t\t\t\t\t\t_field.dropdown('clear')\r\n\t\t\t\t\t\t\t_field.dropdown('refresh')\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_field.val('')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tform.change()\r\n\t}\r\n\r\n\tgetValues() {\r\n\t\tlet values = this._form.form('get values')\r\n\t\tlet toRemove = []\r\n\t\tfor (let name in values) {\r\n\t\t\tlet isDuplicated = name.indexOf('[duplicated') !== -1\r\n\t\t\tlet selector = `[name='${name}']`\r\n\t\t\tlet selectorAlt = `[name*='${name}[']`\r\n\t\t\tlet isArrayValue = false\r\n\r\n\t\t\tlet field = <JQuery>this._form.find(selector)\r\n\r\n\t\t\tif (isDuplicated) {\r\n\t\t\t\ttoRemove.push(name)\r\n\t\t\t}\r\n\r\n\t\t\tif (field.length == 0) {\r\n\t\t\t\tfield = <JQuery>this._form.find(selectorAlt)\r\n\t\t\t\tisArrayValue = true\r\n\t\t\t}\r\n\r\n\t\t\tlet isRadio = field.attr('type') == 'radio'\r\n\t\t\tlet isCheckbox = field.attr('type') == 'checkbox'\r\n\r\n\t\t\tif (isRadio) {\r\n\t\t\t\tselector = `${selector}:checked`\r\n\t\t\t\tfield = this._form.find(selector)\r\n\t\t\t}\r\n\r\n\t\t\tlet value: any = ''\r\n\r\n\t\t\tif (field.length > 0) {\r\n\t\t\t\tif (isArrayValue && !isCheckbox && !isRadio) {\r\n\t\t\t\t\tvalue = []\r\n\t\t\t\t\tfield.each(function () {\r\n\t\t\t\t\t\tlet val = $(this).val().toString().trim()\r\n\t\t\t\t\t\tif (val.length > 0) {\r\n\t\t\t\t\t\t\tvalue.push(val)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = field.val()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof value == 'string') {\r\n\t\t\t\tlet _value = value.trim()\r\n\t\t\t\tif (_value.length == 0) {\r\n\t\t\t\t\tvalue = this.fieldsValueOnEmpty[name]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (isCheckbox) {\r\n\t\t\t\tvalue = values[name]\r\n\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\tvalue = value.filter(function (val) {\r\n\t\t\t\t\t\treturn val !== false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet ignore = field.attr('schema-ignore-value') != undefined\r\n\r\n\t\t\tif (ignore) {\r\n\t\t\t\tvalue = this.fieldsValueOnEmpty[name]\r\n\t\t\t}\r\n\r\n\t\t\tvalues[name] = value\r\n\r\n\t\t}\r\n\r\n\t\tfor (let remove of toRemove) {\r\n\t\t\tdelete values[remove]\r\n\t\t}\r\n\r\n\t\treturn values\r\n\t}\r\n\r\n\t/**\r\n\t * @method setValidation\r\n\t * @description Establece una regla de validacion para un campo\r\n\t * @param {BaseFieldSchema} field\r\n\t * @param {{ validation: string | FunctionStringCallback, prompt?: string }} options\r\n\t * @returns {void}\r\n\t */\r\n\tsetValidation(field: BaseFieldSchema, options: { validation: string | FunctionStringCallback, prompt?: string }) {\r\n\r\n\t\tif (typeof options.validation != 'function' && typeof options.validation != 'string') {\r\n\t\t\tthrow new TypeError('El parámetro validation debe ser tipo function|string')\r\n\t\t}\r\n\r\n\t\tif (options.prompt === undefined) {\r\n\t\t\toptions.prompt = null\r\n\t\t}\r\n\r\n\t\tif (options.prompt !== null && typeof options.prompt != 'string') {\r\n\t\t\tthrow new TypeError('El parámetro prompt debe ser tipo string')\r\n\t\t}\r\n\r\n\t\tif (this.validations[field.name] === undefined) {\r\n\r\n\t\t\tthis.validations[field.name] = {\r\n\t\t\t\trules: [],\r\n\t\t\t\tprompts: []\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.validations[field.name].rules.push(options.validation)\r\n\t\tthis.validations[field.name].prompts.push(options.prompt)\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @method isValid\r\n\t * @description Devuelve la validez del formulario\r\n\t * @returns {boolean}\r\n\t */\r\n\tisValid(): boolean {\r\n\t\treturn this._form.form('is valid')\r\n\t}\r\n\r\n\t/**\r\n\t * @method element\r\n\t * @description Devuelve el formulario con todos sus campos\r\n\t * @returns {HTMLFormElement}\r\n\t */\r\n\tprivate element(): HTMLFormElement {\r\n\r\n\t\tlet instance = this\r\n\t\tlet form = document.createElement('form')\r\n\t\tlet attrs = this.attributes\r\n\t\tlet fields = Array.isArray(this.fields) ? this.fields : [this.fields]\r\n\r\n\t\tfor (let attr of attrs) {\r\n\t\t\tform.setAttribute(attr.name, attr.value)\r\n\t\t}\r\n\r\n\t\tfor (let index in fields) {\r\n\t\t\tlet field = fields[index]\r\n\t\t\tthis.fieldsDuplicablesClones[field.name] = []\r\n\t\t\tlet duplicable = this.fieldsDuplicables[field.name]\r\n\t\t\tif (duplicable) {\r\n\t\t\t\tlet values = <Array<any>>this.fieldsDuplicablesValues[field.name]\r\n\t\t\t\tlet valuesNum = values.length\r\n\t\t\t\tfor (let i = 0; i < valuesNum; i++) {\r\n\t\t\t\t\tlet value = values[i]\r\n\t\t\t\t\tif (i == 0) {\r\n\r\n\t\t\t\t\t\tfields[index].value = value\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet cloneField = (<any>Object).assign({}, field)\r\n\t\t\t\t\t\tcloneField.value = value\r\n\t\t\t\t\t\tlet options: any = {}\r\n\t\t\t\t\t\tfor (let property in cloneField) {\r\n\t\t\t\t\t\t\tif (field.hasOwnProperty(property)) {\r\n\t\t\t\t\t\t\t\toptions[property] = cloneField[property]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet uniqid = 'duplicated_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now()\r\n\t\t\t\t\t\toptions.name = options.name.replace('[]', '') + `[${uniqid}]`\r\n\r\n\t\t\t\t\t\tcloneField = new BaseFieldSchema(<any>options)\r\n\t\t\t\t\t\tthis.fieldsDuplicablesClones[field.name].push(cloneField)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (let field of fields) {\r\n\r\n\t\t\tlet clones = <any[]>this.fieldsDuplicablesClones[field.name]\r\n\t\t\tlet hasClones = clones.length > 0\r\n\t\t\tlet excludeLabels = [''] //Elementos que ignorarán el label\r\n\t\t\tlet excludeWrapper = [''] //Elementos que ignorarán el contenedor\r\n\t\t\tlet selfWrapper = ['choice-radio', 'choice-checkbox'] //Elementos que generan su propio contenedor\r\n\t\t\tlet fieldElement = field.element //Elemento\r\n\t\t\tlet wrapper = fieldElement //Contenedor, por defecto el mismo elemento \r\n\t\t\tlet groupedWrapper = document.createElement('div') //Contenedor para contenedores\r\n\t\t\tlet wrapperClasses = ['field'] //Clases del contenedor\r\n\t\t\tlet groupedWrapperClasses = ['grouped', 'fields'] //Clases del contenedor de grupos\r\n\t\t\tlet groupedTypes = ['choice-radio', 'choice-checkbox'] //Elementos que usan contenedor de grupos\r\n\t\t\tlet shouldHasWrapper = excludeWrapper.indexOf(field.type) == -1\r\n\r\n\t\t\tif (shouldHasWrapper) {//En caso de que necesiten contenedor\r\n\r\n\t\t\t\twrapper = document.createElement('div')\r\n\r\n\t\t\t\tlet isGroupedType = groupedTypes.indexOf(field.type) != -1 //Si es de tipo grupo\r\n\t\t\t\tlet hasSelfWrapper = selfWrapper.indexOf(field.type) != -1 //Si tiene contenedor propio\r\n\r\n\t\t\t\t//Verifica si usa label\r\n\t\t\t\tlet hasLabel =\r\n\t\t\t\t\t(field.label.length > 0) &&\r\n\t\t\t\t\t(field.type != 'submit') &&\r\n\t\t\t\t\t(excludeLabels.indexOf(field.type) == -1)\r\n\r\n\t\t\t\tif (hasLabel) {//En caso de que use label\r\n\r\n\t\t\t\t\tlet label = document.createElement('label')\r\n\t\t\t\t\tlabel.innerHTML = field.label\r\n\t\t\t\t\twrapper.appendChild(label)\r\n\r\n\t\t\t\t\tif (isGroupedType) {//Si es de tipo grupos\r\n\r\n\t\t\t\t\t\tgroupedWrapper.appendChild(label)\r\n\r\n\t\t\t\t\t} else {//Si no\r\n\r\n\t\t\t\t\t\twrapper.appendChild(label)\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (hasSelfWrapper) {//En caso de tener su propio contenedor\r\n\r\n\t\t\t\t\tlet fieldInnerHTML = fieldElement.innerHTML\r\n\t\t\t\t\tfieldElement.innerHTML = wrapper.innerHTML + fieldInnerHTML\r\n\t\t\t\t\twrapper = fieldElement\r\n\r\n\t\t\t\t} else {//Si no\r\n\r\n\t\t\t\t\twrapper.appendChild(fieldElement)\r\n\r\n\t\t\t\t\tif (fieldElement.hasAttribute('required')) {//Se verifica si tiene el atributo required\r\n\t\t\t\t\t\twrapperClasses.push('required')\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twrapper.setAttribute('class', wrapperClasses.join(' '))\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (fieldElement.hasAttribute('required')) {//Se verifica si tiene el atributo required\r\n\r\n\t\t\t\t\tgroupedWrapperClasses.push('required')\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isGroupedType) {//Si es de tipo grupo\r\n\t\t\t\t\tgroupedWrapper.setAttribute('class', groupedWrapperClasses.join(' '))\r\n\t\t\t\t\tgroupedWrapper.appendChild(wrapper)\r\n\t\t\t\t\twrapper = groupedWrapper\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Se verifica si es removible \r\n\t\t\t\tlet removible = this.fieldsRemovibles[field.name]\r\n\r\n\t\t\t\tif (removible) {\r\n\t\t\t\t\tlet removeButton = document.createElement('button')\r\n\t\t\t\t\tremoveButton.setAttribute('remove-button', '')\r\n\t\t\t\t\tremoveButton.setAttribute('class', 'ui mini button red')\r\n\t\t\t\t\tremoveButton.innerHTML = `<i class=\"trash icon\"></i>Eliminar`\r\n\r\n\r\n\t\t\t\t\tif (hasLabel) {\r\n\t\t\t\t\t\tlet label = wrapper.querySelector('label')\r\n\t\t\t\t\t\tlabel.innerHTML += ' ' + removeButton.outerHTML\r\n\t\t\t\t\t\tremoveButton = label.querySelector('[remove-button]')\r\n\r\n\t\t\t\t\t\t$(label).click(function (e) {\r\n\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet firstElement = wrapper.childNodes[0]\r\n\t\t\t\t\t\twrapper.insertBefore(removeButton, firstElement)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(wrapper).click(function (e) {\r\n\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t})\r\n\t\t\t\t\t$(removeButton).click(function (e) {\r\n\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\tif (e.clientX != 0 && e.clientY != 0) {\r\n\t\t\t\t\t\t\twrapper.remove()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Se verifica si es duplicable \r\n\t\t\t\tlet duplicable = this.fieldsDuplicables[field.name]\r\n\t\t\t\tif (duplicable) {\r\n\r\n\t\t\t\t\tlet fieldWrapper = wrapper.outerHTML\r\n\t\t\t\t\tlet containerDuplicateButton = document.createElement('div')\r\n\t\t\t\t\tlet duplicateButton = document.createElement('button')\r\n\t\t\t\t\tduplicateButton.setAttribute('duplicate-button', '')\r\n\t\t\t\t\tduplicateButton.setAttribute('class', 'ui mini button blue')\r\n\t\t\t\t\tduplicateButton.innerHTML = `<i class=\"plus icon\"></i>Agregar otro campo \"${field.label}\"`\r\n\t\t\t\t\tcontainerDuplicateButton.appendChild(duplicateButton)\r\n\t\t\t\t\tcontainerDuplicateButton.setAttribute('style', ([\r\n\t\t\t\t\t\t'margin: 1rem 0;'\r\n\t\t\t\t\t]).join(' '))\r\n\r\n\t\t\t\t\twrapper = document.createElement('div')\r\n\t\t\t\t\twrapper.setAttribute('class','field')\r\n\r\n\t\t\t\t\tlet containerFields = document.createElement('div')\r\n\t\t\t\t\tcontainerFields.setAttribute('duplicate-container', '')\r\n\r\n\t\t\t\t\tcontainerFields.innerHTML = fieldWrapper\r\n\r\n\t\t\t\t\tcontainerFields.querySelectorAll('[id]').forEach((element, i, parent) => {\r\n\t\t\t\t\t\t(parent.item(i)).removeAttribute('id')\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\twrapper.appendChild(containerDuplicateButton)\r\n\t\t\t\t\twrapper.appendChild(containerFields)\r\n\r\n\t\t\t\t\tif (removible) {\r\n\t\t\t\t\t\tlet removeButton = containerFields.querySelector('[remove-button]')\r\n\t\t\t\t\t\t$(removeButton).parent().click(function (e) {\r\n\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t$(removeButton).click(function (e) {\r\n\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\tlet parent = $(this).parent()\r\n\r\n\t\t\t\t\t\t\tif (parent.prop('tagName') == 'LABEL') {\r\n\t\t\t\t\t\t\t\tparent = parent.parent()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparent.remove()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet elementBase = <HTMLElement>containerFields.childNodes[0].cloneNode(true)\r\n\r\n\t\t\t\t\t$(duplicateButton).click(function (e) {\r\n\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\tinstance.duplicateField(field, elementBase, containerFields, removible)\r\n\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tif (hasClones) {\r\n\t\t\t\t\t\tfor (let value of clones) {\r\n\t\t\t\t\t\t\tinstance.duplicateField(field, elementBase, containerFields, removible, value.value, value.name)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tform.appendChild(wrapper) //Se agrega al formulario\r\n\t\t}\r\n\r\n\t\tlet hasClass = form.getAttribute('class') !== null\r\n\r\n\t\tlet classes = []\r\n\r\n\t\tif (hasClass) {\r\n\t\t\tclasses = form.getAttribute('class').trim().split(' ')\r\n\t\t}\r\n\r\n\t\tlet hasUi = false\r\n\t\tlet hasForm = false\r\n\r\n\t\tfor (let _class of classes) {\r\n\t\t\tif (_class == 'ui') {\r\n\t\t\t\thasUi = true\r\n\t\t\t}\r\n\t\t\tif (_class == 'form') {\r\n\t\t\t\thasUi = true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!hasUi) {\r\n\t\t\tclasses.push('ui')\r\n\t\t}\r\n\r\n\t\tif (!hasForm) {\r\n\t\t\tclasses.push('form')\r\n\t\t}\r\n\r\n\t\tform.setAttribute('class', classes.join(' '))\r\n\r\n\t\treturn form\r\n\t}\r\n\r\n\t/**\r\n\t * @method validateOptions\r\n\t * @description Valida las opciones\r\n\t * @param options Opciones a validar\r\n\t * @returns {object} Las opciones con valores por defecto en caso de necesitarlos\r\n\t */\r\n\tprivate validateOptions(options) {\r\n\t\tif (options === undefined || typeof options != 'object') {\r\n\t\t\tthrow new TypeError(`Se esperaba que options fuera tipo object`)\r\n\t\t}\r\n\t\tthis.validateAttributes(options.attributes)\r\n\t\tthis.validateFields(options.fields)\r\n\t}\r\n\r\n\t/**\r\n\t * @method validateAttributes\r\n\t * @description Valida los atributos y defina la propiedad attributes\r\n\t * @param {BaseAttributeSchema|BaseAttributeSchema[]} attributes atributos a validar\r\n\t * @throws {TypeError}\r\n\t * @returns {void}\r\n\t */\r\n\tprivate validateAttributes(attributes) {\r\n\r\n\t\tlet _attributes = []\r\n\r\n\t\tattributes = attributes == undefined ? null : attributes\r\n\r\n\t\tif (attributes !== null && !BaseAttributeSchema.attrsValidate(attributes)) {\r\n\t\t\tthrow new TypeError(`Se esperaba que attributes fuera tipo BaseAttributeSchema o BaseAttributeSchema[]`)\r\n\t\t}\r\n\r\n\t\tif (attributes !== null) {\r\n\t\t\tattributes = Array.isArray(attributes) ? attributes : [attributes]\r\n\t\t\tfor (let attr of attributes) {\r\n\t\t\t\t_attributes.push(new BaseAttributeSchema(attr))\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.attributes = _attributes\r\n\t}\r\n\r\n\t/**\r\n\t * @method validateFields\r\n\t * @description Valida los campos de entrada y sus opciones \r\n\t * @param {BaseFieldSchema|BaseFieldSchema[]} fields \r\n\t * @throws {TypeError}\r\n\t * @returns {void}\r\n\t */\r\n\tprivate validateFields(fields) {\r\n\r\n\t\tif (!BaseFieldSchema.fieldsValidate(fields)) {\r\n\t\t\tthrow new TypeError(`Se esperaba que fields fuera un objeto BaseFieldSchema o BaseFieldSchema[]`)\r\n\t\t}\r\n\r\n\t\t//Convierte la entrada en un array en caso de no serlo\r\n\t\tlet fieldsParam = <Array<FieldParam>>(Array.isArray(fields) ? fields : [fields])\r\n\t\t//Campos a agregar\r\n\t\tlet _fields = []\r\n\r\n\t\tfor (let field of fieldsParam) {\r\n\r\n\t\t\tif (field.attributes === undefined) {//Prueba si tiene atributos\r\n\t\t\t\tfield.attributes = []\r\n\t\t\t}\r\n\r\n\t\t\t//Conjunto de elementos a los que se les toma en cuenta la opción multiple\r\n\t\t\tlet canBeMultiple = ['select',]\r\n\r\n\t\t\tif (canBeMultiple.indexOf(field.type) != -1) {//Prueba si puede ser múltiple\r\n\t\t\t\tfield.multiple = field.multiple === true ? true : false\r\n\t\t\t\tif (field.multiple) {\r\n\t\t\t\t\tfield.attributes.push(new BaseAttributeSchema({ name: 'multiple' }))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet _field = new BaseFieldSchema(<any>field) //Campo\r\n\r\n\t\t\t//Conjunto de elementos que son considerados de selecciones\r\n\t\t\tlet choicesFields = ['choice-radio', 'choice-checkbox', 'select',]\r\n\r\n\t\t\tif (choicesFields.indexOf(field.type) != -1) {//Valida si es un elemento con selecciones\r\n\r\n\t\t\t\tif (field.choices != undefined) {\r\n\r\n\t\t\t\t\t_field.setChoices(field.choices) //Agrega la selecciones\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new TypeError(`Los campos tipo ${choicesFields.join('|')} deben tener la opción choices`)\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (field.rules !== undefined) {//Verifica si tiene reglas\r\n\r\n\t\t\t\tfield.rules = Array.isArray(field.rules) ? field.rules : [field.rules] //Convierte en un array, de no serlo\r\n\r\n\t\t\t\tfor (let rule of field.rules) {\r\n\r\n\t\t\t\t\tlet _rule: {\r\n\t\t\t\t\t\tvalidation: string | FunctionStringCallback,\r\n\t\t\t\t\t\tprompt?: string\r\n\t\t\t\t\t} = {\r\n\t\t\t\t\t\tvalidation: '',\r\n\t\t\t\t\t\tprompt: undefined\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof rule == 'string' || typeof rule == 'function') {//En caso de que la regla sea string\r\n\r\n\t\t\t\t\t\t_rule.validation = rule\r\n\r\n\t\t\t\t\t} else if (typeof rule == 'object') {//En caso de que la regla sea un objeto\r\n\r\n\t\t\t\t\t\t_rule.validation = rule.type\r\n\r\n\t\t\t\t\t\tif (rule.prompt !== undefined) {//En caso de que tenga un mensaje\r\n\t\t\t\t\t\t\t_rule.prompt = rule.prompt\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_rule.validation === undefined) {//Si no cumplió las validaciones se salta a la otra\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.setValidation(_field, _rule)//Se agrega la regla\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//Se define un valor en caso de estar vacío el campo\r\n\t\t\tif (field.valueOnEmpty !== undefined) {\r\n\r\n\t\t\t\t//Si es una función se obtiene el valor\r\n\t\t\t\tif (typeof field.valueOnEmpty == 'function') {\r\n\r\n\t\t\t\t\tfield.valueOnEmpty = field.valueOnEmpty()\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Si es un objeto se transforma en string\r\n\t\t\t\tif (\r\n\t\t\t\t\ttypeof field.valueOnEmpty == 'symbol' ||\r\n\t\t\t\t\ttypeof field.valueOnEmpty == 'object'\r\n\t\t\t\t) {\r\n\r\n\t\t\t\t\tfield.valueOnEmpty = JSON.stringify(field.valueOnEmpty)\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfield.valueOnEmpty = '' //Valor por defecto\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.fieldsValueOnEmpty[field.name] = field.valueOnEmpty\r\n\r\n\t\t\t//Se definen los campos de los que dependen el estado del campo\r\n\t\t\tif (field.dependFields !== undefined) {\r\n\r\n\t\t\t\tif (!Array.isArray(field.dependFields)) {\r\n\t\t\t\t\tfield.dependFields = [field.dependFields]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (let i = 0; i < field.dependFields.length; i++) {\r\n\r\n\t\t\t\t\tlet _dField = field.dependFields[i]\r\n\r\n\t\t\t\t\tif (typeof _dField.field != 'string') {//Se valida el campo\r\n\t\t\t\t\t\tthrow new TypeError(`La opcion dependFields.field debe ser tipo string`)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!BaseFormSchema.isScalar(_dField.value) && typeof _dField.value != 'function') {//Se valida el valor\r\n\t\t\t\t\t\tthrow new TypeError(`La opcion dependFields.value debe ser tipo scalar o una función que retorne un bool.`)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tfield.dependFields = [] //Valor por defecto\r\n\t\t\t}\r\n\t\t\tthis.dependFields[field.name] = field.dependFields\r\n\r\n\t\t\t//Se define si el campo es duplicable\r\n\t\t\tlet duplicable = field.duplicable\r\n\t\t\tif (duplicable !== undefined) {\r\n\t\t\t\tif (typeof duplicable == 'boolean') {\r\n\t\t\t\t\tthis.fieldsDuplicables[field.name] = duplicable\r\n\r\n\t\t\t\t\t//Verificar si ya hay valores múltiples para los campos\r\n\t\t\t\t\t_field.value = ''\r\n\t\t\t\t\tlet values: any[] = field.values\r\n\r\n\t\t\t\t\tif (values === undefined) {\r\n\t\t\t\t\t\tvalues = []\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvalues = Array.isArray(values) ? values : [values]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalues = <Array<any>>values\r\n\t\t\t\t\tvalues = values.map(v => (typeof v == 'string' ? v.trim() : v))\r\n\t\t\t\t\tvalues = values.filter(v => (typeof v == 'string' ? (v.length > 0) : v !== undefined && v !== null))\r\n\r\n\t\t\t\t\tthis.fieldsDuplicablesValues[field.name] = values;\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new TypeError(`La opción duplicable debe ser tipo booleana`)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.fieldsDuplicables[field.name] = false //Valor por defecto\r\n\t\t\t}\r\n\r\n\t\t\t//Se define si el campo es removible\r\n\t\t\tlet removible = field.removible\r\n\t\t\tif (removible !== undefined) {\r\n\t\t\t\tif (typeof removible == 'boolean') {\r\n\t\t\t\t\tthis.fieldsRemovibles[field.name] = removible\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new TypeError(`La opción removible debe ser tipo booleana`)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.fieldsRemovibles[field.name] = false //Valor por defecto\r\n\t\t\t}\r\n\r\n\r\n\t\t\t//Propiedades que no son validadas, sino agregadas como opciones de configuración de los\r\n\t\t\t//campos que lo requieran\r\n\t\t\tlet ignoreProperties = [\r\n\t\t\t\t'name',\r\n\t\t\t\t'required',\r\n\t\t\t\t'label',\r\n\t\t\t\t'type',\r\n\t\t\t\t'rules',\r\n\t\t\t\t'attributes',\r\n\t\t\t\t'choices',\r\n\t\t\t\t'valueOnEmpty',\r\n\t\t\t\t'multiple',\r\n\t\t\t\t'dependFields',\r\n\t\t\t\t'duplicable',\r\n\t\t\t\t'removible',\r\n\t\t\t\t'values',\r\n\t\t\t]\r\n\r\n\t\t\tlet properties = Object.getOwnPropertyNames(field)\r\n\r\n\t\t\tfor (let index in properties) {\r\n\t\t\t\tlet property = properties[index]\r\n\t\t\t\tif (ignoreProperties.indexOf(property) == -1) {\r\n\t\t\t\t\tif (this.fieldsConfigurations[field.name] == undefined) {\r\n\t\t\t\t\t\tthis.fieldsConfigurations[field.name] = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.fieldsConfigurations[field.name][property] = field[property]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_fields.push(_field) //Se añade el campo\r\n\t\t}\r\n\r\n\t\tthis.fields = _fields //Se establece la propiedad fields\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @method isForm\r\n\t * @description Valida que el parámetro concuerde con la estrutura de un objeto BaseFormSchema\r\n\t * @param {Object} form \r\n\t * @returns {boolean}\r\n\t */\r\n\tstatic isForm(form): form is BaseFormSchema {\r\n\t\tif (\r\n\t\t\t(form.fields !== undefined) &&\r\n\t\t\t(\r\n\t\t\t\tform.attributes == undefined ||\r\n\t\t\t\tBaseAttributeSchema.isAttribute(form.attributes) ||\r\n\t\t\t\tBaseAttributeSchema.isAttributeArray(form.attributes)\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\t/**\r\n\t * @method isScalar\r\n\t * @description Valida que el valor sea escalar\r\n\t * @param {any} value \r\n\t * @returns {boolean}\r\n\t */\r\n\tstatic isScalar(value) {\r\n\t\treturn /boolean|number|string/.test(typeof value);\r\n\t}\r\n\r\n\tprivate duplicateField(field, elementBase, containerFields, removible, value = null, name = null) {\r\n\t\tlet newElement = <HTMLElement>elementBase.cloneNode(true)\r\n\r\n\t\tcontainerFields.appendChild(newElement)\r\n\r\n\t\tif (removible) {\r\n\t\t\tlet removeButton = containerFields.querySelectorAll('[remove-button]')\r\n\t\t\t$(removeButton).parent().click(function (e) {\r\n\t\t\t\te.preventDefault()\r\n\t\t\t})\r\n\t\t\t$(removeButton).click(function (e) {\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\tlet parent = $(this).parent()\r\n\r\n\t\t\t\tif (parent.prop('tagName') == 'LABEL') {\r\n\t\t\t\t\tparent = parent.parent()\r\n\t\t\t\t}\r\n\t\t\t\tparent.remove()\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tlet removeButton = document.createElement('button')\r\n\t\t\tremoveButton.setAttribute('remove-button', '')\r\n\t\t\tremoveButton.setAttribute('class', 'ui mini button red')\r\n\t\t\tremoveButton.innerHTML = `<i class=\"trash icon\"></i>Eliminar`\r\n\r\n\t\t\tlet hasLabel = newElement.querySelector('label') != null\r\n\r\n\t\t\tif (hasLabel) {\r\n\t\t\t\tlet label = newElement.querySelector('label')\r\n\t\t\t\tlabel.innerHTML += ' ' + removeButton.outerHTML\r\n\t\t\t\tremoveButton = label.querySelector('[remove-button]')\r\n\r\n\t\t\t\t$(label).click(function (e) {\r\n\t\t\t\t\te.preventDefault()\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tlet firstElement = newElement.childNodes[0]\r\n\t\t\t\tnewElement.insertBefore(removeButton, firstElement)\r\n\t\t\t}\r\n\t\t\t$(removeButton).click(function (e) {\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\tnewElement.remove()\r\n\t\t\t})\r\n\r\n\t\t}\r\n\t\tlet _field = $(newElement).find(`[name='${field.name}']`)\r\n\t\tif (name !== null) {\r\n\t\t\t_field.attr('name', name)\r\n\t\t}\r\n\t\t_field.val('')\r\n\t\tif (value !== null) {\r\n\t\t\t_field.val(value)\r\n\t\t}\r\n\t\tif (this._form !== undefined) this.initValidations()\r\n\t}\r\n\r\n}\r\n\r\ninterface FieldParam {\r\n\tname: string\r\n\trequired?: boolean\r\n\tlabel?: string\r\n\ttype?: string\r\n\trules?: any\r\n\tattributes?: Array<{ name: string, value?: string }>\r\n\tchoices?: Array<{ value: string, display?: string }>\r\n\tvalueOnEmpty?: any\r\n\tmultiple?: boolean\r\n\tdependFields?: Array<{ field: string, value: any }>\r\n\tduplicable?: boolean\r\n\tremovible?: boolean\r\n\tvalues?: any\r\n}","class BaseSelectOptionsSchema {\r\n\r\n\toptions: BaseFieldSchema[]\r\n\tname: string\r\n\tlabel: string\r\n\trequired: boolean\r\n\tmultiple: boolean\r\n\tprivate _elements: Element[]\r\n\r\n\tconstructor(\r\n\t\tname: string,\r\n\t\toptions: Array<{ value: string, display?: string }> | { value: string, display?: string },\r\n\t\tlabel: string = '',\r\n\t\trequired: boolean = false,\r\n\t) {\r\n\t\tif (name === undefined) throw new Error('Falta el argumento name')\r\n\t\tif (typeof name != 'string') throw new TypeError('El argumento name debe ser tipo string')\r\n\t\tthis.name = name\r\n\r\n\t\toptions = this.clearOptions(options)\r\n\r\n\t\tthis.options = []\r\n\t\tlet count = 1\r\n\t\tfor (let option of options) {\r\n\t\t\tlet name = `option_${count}_${this.name}`\r\n\t\t\tlet _option = new BaseFieldSchema({\r\n\t\t\t\tname: name,\r\n\t\t\t\tlabel: option.display,\r\n\t\t\t\tvalue: option.value,\r\n\t\t\t\ttype: 'option'\r\n\t\t\t})\r\n\t\t\tthis.options.push(_option)\r\n\t\t\tcount++\r\n\t\t}\r\n\r\n\t\tif (label != undefined && typeof label != 'string') throw new TypeError('El argumento label debe ser tipo string')\r\n\t\tthis.label = label\r\n\r\n\t\tif (required != undefined && typeof required != 'boolean') throw new TypeError('El argumento required debe ser tipo boolean')\r\n\t\tthis.required = required\r\n\r\n\t}\r\n\r\n\tget elements(): Element[] {\r\n\t\tthis.configElement()\r\n\t\treturn this._elements\r\n\t}\r\n\r\n\tclearOptions(\r\n\t\toptions: Array<{\r\n\t\t\tvalue: string,\r\n\t\t\tdisplay?: string\r\n\t\t}> | {\r\n\t\t\tvalue: string,\r\n\t\t\tdisplay?: string\r\n\t\t}\r\n\t): Array<{\r\n\t\tvalue: string,\r\n\t\tdisplay?: string\r\n\t}> {\r\n\t\toptions = Array.isArray(options) ? options : [options]\r\n\t\tlet _options = []\r\n\t\t_options.push({\r\n\t\t\tvalue:'',\r\n\t\t\tdisplay:'Seleccione una opción'\r\n\t\t})\r\n\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\tlet option = options[i]\r\n\t\t\tif (option.value === undefined) throw new TypeError('Se esperaba que option tuviera la propiedad value')\r\n\t\t\tif (typeof option.value != 'string') throw new TypeError('La propiedad value de option debe ser tipo string')\r\n\t\t\tif (option.display != undefined && typeof option.display != 'string') throw new TypeError('La propiedad display de option debe ser tipo string')\r\n\t\t\tif (option.display == undefined || option.display.length < 1) {\r\n\t\t\t\toptions[i].display = option.value\r\n\t\t\t}\r\n\t\t\t_options.push(options[i])\r\n\t\t}\r\n\t\treturn _options\r\n\t}\r\n\r\n\tprivate configElement() {\t\r\n\t\tlet options = this.options\r\n\t\tlet _options = []\r\n\t\tfor (let option of options) {\r\n\t\t\t_options.push(option.element)\r\n\t\t}\r\n\t\tthis._elements = _options\r\n\t}\r\n}","class FormJsonSchema {\r\n\tstatic debug = false\r\n\tprivate _schema: BaseFormSchema\r\n\tconstructor(schema: BaseFormSchema) {\r\n\t\tif (BaseFormSchema.isForm(schema)) {\r\n\t\t\tthis._schema = new BaseFormSchema({\r\n\t\t\t\tfields: schema.fields,\r\n\t\t\t\tattributes: schema.attributes\r\n\t\t\t})\r\n\t\t\tif(FormJsonSchema.debug){\r\n\t\t\t\tBaseFormSchema.debug = true\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new Error(`Se esperaba que schema fuera un objeto BaseFormSchema`)\r\n\t\t}\r\n\t}\r\n\tsetDebug(debug:boolean){\r\n\t\tdebug = debug === true ? true : false\r\n\t\tFormJsonSchema.debug = debug\r\n\t\tif(FormJsonSchema.debug){\r\n\t\t\tBaseFormSchema.debug = true\r\n\t\t}else{\r\n\t\t\tBaseFormSchema.debug = false\r\n\t\t}\r\n\t}\r\n\tset schema(param){\r\n\t\tthrow new Error('La propiedad schema es de solo lectura')\r\n\t}\r\n\tget schema(){\r\n\t\treturn this._schema\r\n\t}\r\n\tform(): HTMLFormElement {\r\n\t\treturn this._schema.form\r\n\t}\r\n}\r\n"]}